# name: automerge
# on:
#   # pull_request:
#   #   types:
#   #     - labeled
#   #     - unlabeled
#   #     - synchronize
#   #     - opened
#   #     - edited
#   #     - ready_for_review
#   #     - reopened
#   #     - unlocked
#   # pull_request_review_comment:
#   #   types:
#   #     - created
#   issue_comment:
#     types: 
#       - created
#   check_suite:
#     types:
#       - completed
#   status: {}
# jobs:
#   automerge:
#     runs-on: ubuntu-latest
#     steps:
#       - id: automerge
#         name: automerge
#         uses: "pascalgn/automerge-action@v0.15.3"
#         env:
#           GITHUB_TOKEN: "${{ secrets.GITHUB_TOKEN }}"

name: Automerge

on:
  issue_comment:
    types:
      - created

# jobs:
#   like-pizza:
#     runs-on: ubuntu-latest
#     # if: ${{ github.event.comment.body == 'I like pizza'}}
#     steps:
#       - name: automerge
#         uses: actions/github-script@v4
#         with:
#           script: |
#             const {owner, repo} = context.issue
#             github.reactions.createForIssueComment({
#               owner,
#               repo,
#               comment_id: context.payload.comment.id,
#               content: "+1",
#             });        

jobs:
  automerge:
    runs-on: ubuntu-latest
    steps:
      - uses: reitermarkus/automerge@v2
        with:
          token: ${{ secrets.MY_GITHUB_TOKEN }}
          do-not-merge-labels: never-merge
          # required-labels: automerge
          pull-request: ${{ github.event.inputs.pull-request }}
          dry-run: true
